# Hospital PBX Scheduling System - Technical Requirements Document

## Project Overview

**System Name**: Children's Hospital PBX Scheduling System  
**Version**: 1.0 (MVP)  
**Client**: Healthcare Operations Manager  
**Purpose**: Automate employee scheduling and time-off management for 11-employee PBX switchboard operation

### Business Context
- **Facility**: Children's Hospital PBX Switchboard
- **Current Process**: Manual Excel-based scheduling with time-off juggling
- **Staff Size**: 11 employees across day/night shifts
- **Coverage Requirement**: Minimum 3 employees on duty 24/7/365
- **Shift Structure**: 12-hour shifts (7am-7pm Day, 7pm-7am Night)

---

## System Architecture

### Technology Stack
- **Frontend**: Web application (HTML/CSS/JavaScript)
- **Backend**: Python/Flask or Node.js
- **Database**: SQLite
- **AI Engine**: Custom scheduling algorithm with conflict resolution
- **Notifications**: Email integration (SMTP)

### System Components
1. **Database Layer**: SQLite with employee, schedule, and time-off tables
2. **Business Logic Layer**: Scheduling engine with AI automation
3. **API Layer**: RESTful endpoints for CRUD operations
4. **Frontend Layer**: Dashboard interface with data visualization
5. **Notification Service**: Email alerts for schedules and updates
6. **Export Module**: Schedule download functionality

---

## Database Schema

### Employees Table
```sql
CREATE TABLE employees (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    email TEXT NOT NULL,
    shift_type TEXT NOT NULL, -- 'DAY', 'NIGHT', 'LEAD'
    hours_per_week INTEGER DEFAULT 40,
    special_schedule TEXT, -- For 4-hour/4-day employee
    active BOOLEAN DEFAULT 1,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### Time_Off_Requests Table
```sql
CREATE TABLE time_off_requests (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    employee_id INTEGER,
    request_date DATE NOT NULL,
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    shift_type TEXT, -- 'DAY', 'NIGHT', 'BOTH'
    status TEXT DEFAULT 'PENDING', -- 'PENDING', 'APPROVED', 'DENIED'
    reason TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    approved_at DATETIME,
    FOREIGN KEY (employee_id) REFERENCES employees (id)
);
```

### Schedules Table
```sql
CREATE TABLE schedules (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    employee_id INTEGER,
    schedule_date DATE NOT NULL,
    shift_start TIME NOT NULL,
    shift_end TIME NOT NULL,
    shift_type TEXT NOT NULL,
    is_overtime BOOLEAN DEFAULT 0,
    is_coverage BOOLEAN DEFAULT 0, -- Auto-generated by AI
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (employee_id) REFERENCES employees (id)
);
```

### Shift_Trades Table
```sql
CREATE TABLE shift_trades (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    requesting_employee_id INTEGER,
    target_employee_id INTEGER,
    original_schedule_id INTEGER,
    trade_schedule_id INTEGER,
    trade_reason TEXT,
    status TEXT DEFAULT 'PENDING', -- 'PENDING', 'APPROVED', 'DENIED'
    special_form_data TEXT, -- JSON field for trade form details
    approved_at DATETIME,
    FOREIGN KEY (requesting_employee_id) REFERENCES employees (id),
    FOREIGN KEY (target_employee_id) REFERENCES employees (id),
    FOREIGN KEY (original_schedule_id) REFERENCES schedules (id),
    FOREIGN KEY (trade_schedule_id) REFERENCES schedules (id)
);
```

### Employee_Preferences Table
```sql
CREATE TABLE employee_preferences (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    employee_id INTEGER,
    preferred_days TEXT, -- JSON array of preferred days
    blackout_dates TEXT, -- JSON array of unavailable dates
    overtime_preference BOOLEAN DEFAULT 1,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (employee_id) REFERENCES employees (id)
);
CREATE TABLE employee_qualifications (
  id SERIAL PRIMARY KEY,
  employee_id INT NOT NULL REFERENCES employees(id),
  qualification_code TEXT NOT NULL, -- e.g., 'LEAD', 'SENIOR'
  effective_start_date DATE NOT NULL,
  effective_end_date DATE NULL
);

CREATE TABLE employee_blackouts (
  id SERIAL PRIMARY KEY,
  employee_id INT NOT NULL REFERENCES employees(id),
  blackout_date DATE NOT NULL
);

ALTER TABLE employees ADD COLUMN fte_percent NUMERIC(5,2) DEFAULT 100.00;
ALTER TABLE employees ADD COLUMN cost_center TEXT NULL;
ALTER TABLE employees ADD COLUMN union_code TEXT NULL;

ALTER TABLE schedules
  ADD COLUMN location_id INT NULL,
  ADD COLUMN timezone TEXT DEFAULT 'America/Denver',
  ADD COLUMN meal_break_mins INT DEFAULT 30,
  ADD COLUMN is_on_call BOOLEAN DEFAULT 0;

-- Prevent overlaps for an employee
-- (Implement via constraint trigger or validated in scheduler service)
```

---

## User Interface Requirements

### Main Dashboard
- **Header**: Hospital logo, current date, system status
- **Navigation**: Time Off Requests, Schedules, Employee Management, Reports
- **Quick Stats**: Pending requests count, current coverage status, upcoming time off

### Time Off Management Interface
- **Request Form**: Employee dropdown, date range picker, shift type selection, reason field
- **Pending Requests Table**: Employee name, dates, shift type, request date, action buttons
- **Approval Actions**: Approve/Deny buttons with optional notes
- **Bulk Actions**: Select multiple requests for batch approval

### Schedule Dashboard
- **Calendar View**: Monthly grid showing daily coverage
- **Hourly Coverage View**: 24-hour timeline showing employee assignments
- **Coverage Status**: Color-coded indicators (Green: Adequate, Yellow: Minimum, Red: Under-staffed)
- **Export Options**: PDF, Excel, CSV download buttons

### Employee Management
- **Employee List**: Name, shift type, email, hours/week, active status
- **Add/Edit Forms**: All employee fields with validation
- **Preference Settings**: For each employee's scheduling preferences

---

## AI Agent Specifications

### Core Algorithm Requirements
1. **Coverage Validation**: Ensure minimum 3 employees per shift at all times
2. **Fair Distribution**: Rotate overtime opportunities fairly among eligible employees
3. **Preference Integration**: Consider employee preferences when filling gaps
4. **Lead Priority**: Assign lead employee to 8am-6pm when possible
5. **Overtime Logic**: Offer overtime to Lead first if < 11 employees available

### Scheduling Logic Flow
```
1. Process approved time-off request
2. Identify coverage gaps in schedule
3. Query available employees for gap periods
4. Apply business rules priority:
   - Lead gets overtime first if understaffed
   - Consider employee preferences
   - Maintain 40-hour weekly limits
   - Respect night shift differential rules
   - Each employee gets 10 hour shifts unless necessary to reduce hours or work longer to make coverage. 

5. Generate coverage assignments
6. Update schedule database
7. Send notification emails
```

### Conflict Resolution
- **Over-scheduling**: Prevent employees exceeding 40 hours without overtime approval
- **Under-coverage**: Alert manager when minimum staffing cannot be met
- **Preference Conflicts**: Use rotation system when multiple employees prefer same slots

---

## Business Rules & Constraints

### Staffing Requirements
- **Minimum Coverage**: 3 employees on duty 24/7/365
- **Shift Times**: Day (7am-7pm), Night (7pm-7am)
- **Weekly Hours**: 40 hours per employee standard
- **Special Cases**: One employee works 4-hour shifts, 4 days/week

### Time Off Policies
- **PTO Limit**: Unlimited paid time off
- **Advance Notice**: No minimum requirement specified
- **Blackout Periods**: None
- **Consecutive Days**: No maximum limit

### Scheduling Priorities
1. **Lead Employee**: Typically scheduled 8am-6pm (10-hour shift)
2. **Overtime Distribution**: Lead first if understaffed, then fair rotation
3. **Night Differential**: Track night shift assignments for payroll
4. **Coverage Priority**: Maintain minimum staffing over individual preferences

---

## Feature Requirements

### Core Features (MVP)
- [ ] Employee database management
- [ ] Time-off request submission and approval
- [ ] Automated schedule generation with AI coverage filling
- [ ] Monthly schedule dashboard with hourly coverage view
- [ ] Email notifications for schedule changes
- [ ] Schedule export (PDF, Excel, CSV)
- [ ] Shift trade request system with special form

### User Interface Features
- [ ] Responsive web design for desktop/tablet use
- [ ] Intuitive dashboard with key metrics
- [ ] Color-coded coverage status indicators
- [ ] Drag-and-drop schedule editing capability
- [ ] Search and filter functionality for all data views

### Reporting Features
- [ ] Monthly schedule reports
- [ ] Coverage analytics
- [ ] Time-off utilization reports
- [ ] Overtime tracking reports
- [ ] Employee availability summaries

---

## Email Notification System

### Notification Types
1. **Monthly Schedules**: Send complete monthly schedule to all employees
2. **Schedule Updates**: Individual notifications for any changes to assigned shifts
3. **Shift Trade Confirmations**: Notify both parties when trade is approved
4. **Time Off Decisions**: Email employee when request is approved/denied

### Email Templates
- Professional healthcare formatting
- Clear subject lines with action required indicators
- Include relevant schedule details and links back to system
- Maintain HIPAA-compliant communication standards

---

## Technical Specifications

### Performance Requirements
- **Response Time**: Page loads under 2 seconds
- **Concurrent Users**: Support up to 5 simultaneous users (V1)
- **Database**: Handle 1+ years of historical schedule data
- **Availability**: 99.5% uptime during business hours

### Security Requirements
- **Data Protection**: Encrypt sensitive employee information
- **Access Control**: Role-based permissions (V2)
- **Audit Trail**: Log all schedule changes and approvals
- **Backup**: Daily automated database backups

### Browser Compatibility
- Modern browsers (Chrome, Firefox, Safari, Edge)
- Mobile-responsive design for tablet viewing
- Progressive web app capabilities for offline viewing

---

## System Integration Points

### Current Integrations (V1)
- **Email Service**: SMTP integration for notifications
- **Export Services**: PDF/Excel generation libraries
- **Database**: SQLite for local data storage

### Future Integrations (V2)
- **Hospital Systems**: Integration with existing HR/payroll systems
- **Single Sign-On**: Active Directory integration
- **Advanced Analytics**: Business intelligence dashboards
- **Mobile App**: Native iOS/Android applications

---

## Data Validation Rules

### Employee Data
- Required fields: Name, Email, Shift Type
- Email format validation
- Unique employee names within system
- Valid shift types: DAY, NIGHT, LEAD

### Time Off Requests
- End date must be after start date
- Cannot request time off for past dates
- Valid shift types: DAY, NIGHT, BOTH
- Required approval before schedule impact

### Schedule Generation
- Minimum 3 employees per shift validation
- No employee double-booking
- 40-hour weekly limit enforcement (unless overtime approved)
- Coverage gap alerts for manager review

---

## Error Handling & Logging

### Error Categories
- **Data Validation Errors**: User-friendly messages with correction guidance
- **System Errors**: Log technical issues with timestamp and user context
- **Coverage Warnings**: Alert when minimum staffing requirements at risk
- **Integration Failures**: Email send failures, export generation errors

### Logging Requirements
- All schedule changes with timestamp and user
- Time off request submissions and decisions
- System access and user actions
- Performance metrics and error rates

---

## Testing Requirements

### Functional Testing
- [ ] Time off request workflow (submit, approve, schedule update)
- [ ] Schedule generation with various coverage scenarios
- [ ] Email notification delivery and content accuracy
- [ ] Data export functionality across all formats
- [ ] Shift trade request processing

### Edge Case Testing
- [ ] Holiday and weekend scheduling
- [ ] Multiple simultaneous time off requests
- [ ] System behavior when minimum coverage cannot be met
- [ ] Large time off requests (multiple weeks)
- [ ] Special scheduling requirements (4-hour employee)

---

## Future Enhancements (V2)

### Enterprise Features
- **Multi-location Support**: Expand to multiple hospital departments
- **Advanced Reporting**: Executive dashboards and analytics
- **Mobile Applications**: Native apps for employees
- **Integration Suite**: Payroll, HR, and hospital system connections

### Advanced Scheduling
- **Machine Learning**: Predictive scheduling based on historical patterns
- **Skills-based Scheduling**: Match specific qualifications to shifts
- **Automated Time Off Approval**: Rule-based automatic approvals
- **Advanced Conflict Resolution**: More sophisticated preference handling

### User Experience
- **Employee Self-Service**: Direct time off submission and schedule viewing
- **Supervisor Hierarchy**: Multi-level approval workflows
- **Real-time Updates**: Live schedule changes and notifications
- **Advanced Analytics**: Predictive coverage analytics

---

## Acceptance Criteria

### System Must Successfully:
1. **Maintain Coverage**: Never allow schedule with <3 employees on duty
2. **Process Time Off**: Complete request-to-schedule-update workflow in <5 minutes
3. **Generate Schedules**: Create error-free monthly schedules automatically
4. **Send Notifications**: Deliver accurate email updates within 15 minutes
5. **Export Data**: Generate downloadable schedules in multiple formats
6. **Handle Trades**: Process shift trade requests with proper approvals

### Performance Benchmarks:
- Schedule generation: <30 seconds for monthly schedule
- Dashboard load time: <3 seconds
- Email delivery: <15 minutes from trigger event
- Data export: <10 seconds for monthly schedule download

### User Experience Standards:
- Intuitive interface requiring <30 minutes training
- Clear error messages with actionable guidance
- Consistent visual design across all interfaces
- Mobile-responsive design for tablet use

---

## Deployment & Maintenance

### Deployment Requirements
- **Environment**: Windows/Linux server with Python support
- **Database**: SQLite file-based storage
- **Dependencies**: Requirements.txt with all necessary packages
- **Configuration**: Environment variables for email and system settings

### Maintenance Tasks
- **Daily**: Automated database backup
- **Weekly**: System performance monitoring
- **Monthly**: User feedback collection and system optimization
- **Quarterly**: Security updates and feature assessment

### Documentation Deliverables
- [ ] User manual with screenshots
- [ ] Technical documentation for system maintenance
- [ ] API documentation for future integrations
- [ ] Troubleshooting guide with common issues and solutions

---

*This requirements document provides comprehensive specifications for building a complete hospital scheduling system. The AI coding agent should implement features incrementally, starting with core scheduling functionality and building toward the full feature set outlined above.*

Addendum from techncial architect

# Hospital PBX Scheduling Agent — Updated Specs (v2)

**Date:** 2025-09-28  
**Author:** Sr. Technical Architect (UHG)  
**Scope:** Scheduling optimizer + PTO reshuffler for hospital PBX/operators. This replaces prior specs where *Lisa* was the night anchor; **Nicole Dempster** is now nights-only. Captures tribal knowledge in a rules engine; supports **adding/removing** employees cleanly.

---

## 0) Executive Summary

- **Coverage targets:** Day 07:00–19:00 **4** on-duty; Night 19:00–07:00 **3** on-duty.  
- **Lead:** **Patricia (Patty) Golden** days-only, **5×8h** per week (no 10s/12s by default).  
- **Shift architecture:** Average **10.5h** shifts with standardized templates; lunches covered without unsafe dips.  
- **Special caps/availability:**  
  - **Nicole Dempster**: **nights-only**, **≤30h/week**. *(Replaces Lisa.)*  
  - **Vicki Theler**: **≤20h/week**.  
  - **Mayra Bradley**: **cannot work Fridays**; **eligible for nights soon** (effective-dated).  
  - All others **=40h/week** by default.  
- **Dual purpose:** (A) generate optimal base schedules; (B) run **time‑off reshuffling** with minimal disruption.  
- **Staffing reality:** Team is **3 down**; agent emits **Gap Reports** and mitigation options (OT, float/agency, new-hire placeholders).  
- **Lifecycle:** add **new hires** mid-week; **remove/deactivate** exiting staff without corrupting history.

---

## 1) Coverage & Shift Model

### 1.1 Targets
- **Day:** 07:00–19:00 → **min_headcount: 4** (include Lead on duty).  
- **Night:** 19:00–07:00 → **min_headcount: 3**.

If shortages make targets infeasible, the solver **minimizes total shortfall minutes** and produces a **Gap Report**.

### 1.2 Shift Templates (10.5h average)
Allowed templates (solver can mix to keep mean ≈ **10.5h**):
- **D‑Core‑A:** 07:00–17:30 (10.5h)  
- **D‑Core‑B:** 08:30–19:00 (10.5h)  
- **D‑Eight (Patty baseline):** 08:00–16:00 (8h)  
- **N‑Core‑A:** 19:00–05:30 (10.5h)  
- **N‑Core‑B:** 21:30–08:00 (10.5h) *(fallback window for balancing)*  
- **N‑Full:** 19:00–07:00 (12h) *(kept for feasibility while short-staffed)*

**Meal coverage:** Keep day coverage ≥4 except allow a **single 30‑min dip to 3** if unavoidable; no overlapping breaks for critical roles.

### 1.3 Lead Requirement
- **Patty Golden** must be scheduled **on days**. If Patty is off, a **Lead‑capable** designee must be present (tagged in rules).

---

## 2) Person‑Level Hard Rules

| Person            | Window/Role        | Weekly Cap | Notes                                  |
|------------------|--------------------|------------|----------------------------------------|
| **Patty Golden** | Days (Lead)        | **40h**    | **5×8h** default; avoid 10s/12s        |
| **Nicole Dempster** | **Nights‑only** | **30h**    | Replaces Lisa as night anchor          |
| **Vicki Theler** | Any (not nights-only) | **20h** | Use for partial day or light nights    |
| **Mayra Bradley**| Any except **Fri** | **40h**    | Nights eligibility starts **on date TBA** |
| Everyone else    | Any                | **40h**    |                                        |

Additional safety constraints (global):
- **Min rest:** ≥ **10h** between shifts  
- **Max consecutive days:** ≤ **5**  
- **No self‑overlap**; **no** night→day same-day flips

---

## 3) Dual‑Purpose Agent Behavior

### 3.1 Base Schedule Generation (weekly)
- **Solver:** CP‑SAT/MILP.  
- **Decision variable:** assign(employee, day, shift_template) ∈ {0,1}.  
- **Hard constraints:** coverage floors; Patty days/5×8h; caps; Mayra no Friday; Nicole nights-only 30h; Vicki 20h; rest; max consecutive; no overlaps.  
- **Objective (priority order):**  
  1) Minimize **coverage shortfall minutes**; 2) Minimize overtime/violations;  
  3) Balance hours (variance to caps); 4) Maximize stability vs last publish.

**Outputs:** week roster + per-person totals + **Gap Report** with fill options (OT, float/agency, **new-hire placeholders**).

### 3.2 Time‑Off (PTO) Reshuffling
- Scope‑limited re‑solve on impacted window: freeze unaffected assignments; permit swaps within ±7 days; re-check caps/rest.  
- Propose: (a) equal‑fairness swaps; (b) optional OT (toggle); (c) float/agency; (d) new‑hire placeholders.  
- **Explainability:** show before/after, constraints, and penalties used.

---

## 4) Workforce Lifecycle — Add / Remove Employees

### 4.1 Add (New Hire)
- **Fields:** name, start_date, tags (lead‑capable, nights‑only, trainee), weekly_cap (ramp: e.g., 24→30→40), availability matrix.  
- On save: agent re‑balances **future** days only; no changes to past/published history.

### 4.2 Remove (Separation)
- **Deactivation:** set `effective_end_date`; person becomes **ineligible** beyond that date.  
- Agent auto‑re‑balances affected future shifts; create Gap Report if still infeasible.  
- Past schedules **remain immutable** for audit/payroll.

---

## 5) Rules Engine (UI + DSL)

### 5.1 Admin UI
- Coverage targets (day/night), meal policy toggle.  
- Per‑person: weekly cap, day‑of‑week exclusions (e.g., Fri), nights‑only flag, allowed templates, lead‑capable tag.  
- Toggles: `allow_overtime_for_gaps`, `stability_bias`, `avg_shift_length_target=10.5`.  
- Scenario runner: “Add hire”, “PTO simulation”, “Lose two employees”.

### 5.2 DSL (YAML)
```yaml
version: 2
globals:
  min_rest_hours: 10
  max_consecutive_days: 5
  avg_shift_length_target_hours: 10.5
coverage:
  day:  { start: "07:00", end: "19:00", min_headcount: 4, require_lead: true }
  night:{ start: "19:00", end: "07:00", min_headcount: 3 }
people:
  - name: "Patty Golden"
    tags: ["lead", "days"]
    hard:
      max_hours_per_week: 40
      allowed_shift_templates: ["D-Eight"]
  - name: "Nicole Dempster"
    tags: ["nights_only"]
    hard:
      max_hours_per_week: 30
      allowed_shift_templates: ["N-Core-A","N-Core-B","N-Full"]
  - name: "Vicki Theler"
    hard: { max_hours_per_week: 20 }
  - name: "Mayra Bradley"
    hard:
      cannot_work_dow: ["Fri"]
      nights_eligible_from: "TBA"   # set actual date when ready
  # Default rule
  - name: "*"
    hard: { max_hours_per_week: 40 }
toggles:
  allow_overtime_for_gaps: false
  stability_bias: high
shifts:
  D-Core-A: "07:00-17:30"
  D-Core-B: "08:30-19:00"
  D-Eight:  "08:00-16:00"
  N-Core-A: "19:00-05:30"
  N-Core-B: "21:30-08:00"
  N-Full:   "19:00-07:00"
```

---

## 6) Example Week (illustrative)

**Note:** Team is **3 down**; gaps (if any) are listed in the Gap Report. Hours shown are weekly totals.

### Days (07:00–19:00 target 4)
- **Patty** (Lead): Mon–Fri **08:00–16:00** (5×8h = **40h**)  
- **Shala**: Mon/Tue **07:00–17:30** (21h), Thu **08:30–19:00** (10.5h) ⇒ **31.5h**  
- **Mayra**: Sun **07:00–17:30**, Wed **08:30–19:00**, Sat **07:00–17:30**; **No Fridays** ⇒ **31.5h**  
- **Vicki**: Wed **07:00–17:30** (10.5h), Sun **09:00–17:00** (8h alt) ⇒ **18.5h** (≤20 cap)

### Nights (19:00–07:00 target 3)
- **Nicole (nights-only ≤30h):** Sun **19:00–05:30** (10.5h), Tue **19:00–05:30** (10.5h), Thu **19:00–03:30** (8.5h) ⇒ **29.5h**  
- **Chloe**: Mon **19:00–07:00** (12h), Fri **19:00–05:30** (10.5h) ⇒ **22.5h**  
- **Tash**: Wed **19:00–07:00** (12h), Sat **19:00–05:30** (10.5h) ⇒ **22.5h**

> This sample respects Patty 5×8h, Nicole 30h nights-only, Vicki 20h cap, Mayra no Friday. The solver will re‑optimize to meet exact coverage/headcount with your actual headcount list.

---

## 7) Gap Report (example)

```json
{
  "week": "2025-10-05 → 2025-10-11",
  "total_shortfall_minutes": 240,
  "gaps": [
    {"period":"Tue 13:00–15:00 (day)","needed":1,"options":["Offer OT: Vicki (+1.5h, within cap)","Float/agency","New hire placeholder"]},
    {"period":"Fri 02:00–03:30 (night)","needed":1,"options":["Offer OT: Chloe (rest OK)","Swap Tash Thu→Fri","New hire placeholder"]}
  ]
}
```

---

## 8) Validation the Agent Must Pass

- Coverage met or documented via Gap Report.  
- Patty: 5×8h days (≤40h).  
- Nicole: nights-only, ≤30h.  
- Vicki: ≤20h.  
- Mayra: never on Fridays; nights allowed only on/after configured date.  
- Rest ≥10h, max 5 consecutive, no overlaps.  
- Average shift length report (mean/median ≈ 10.5h).  
- Stability delta (changes vs last publish).

---

## 9) Implementation Notes

- **Solver:** OR‑Tools CP‑SAT (preferred) or MILP.  
- **Data store:** Postgres/SQL Server with effective dating (`effective_start`/`effective_end`).  
- **APIs:** `/solve`, `/reshuffle`, `/availability`, `/hire`, `/deactivate/{employee_id}`.  
- **Audit:** Persist solver inputs, outputs, and rule set version per publish.

---

## 10) Change Log

- **v2:** Replaced *Lisa* → **Nicole Dempster** nights-only (≤30h). Added **add/remove employee** flows. Marked **Mayra** nights‑eligible (effective-dated). Set **10.5h** average shift design. Enforced **Patty** 5×8 days.
